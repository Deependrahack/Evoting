define(["jquery","core/config","core/modal_factory","core/modal_events","core/notification","core/str"],function(e,o,c,r,t,n){$(document).on("submit","form",function(e){e.preventDefault(),$(".close").attr("style","display: none;");let o=$("#accesscodeid").val();let c=decodeURIComponent((new RegExp("[?|&]"+"id"+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[null,""])[1].replace(/\+/g,"%20"))||null;$(".add-loader").addClass("spinner-border"),$.ajax({type:"POST",data:{cmid:c,accesscode:o},url:"ajax/accesscodecheck.php",success:function(e){if("success"==e){$(".add-loader").removeClass("spinner-border");let e=$(".quizurl").val(),c=M.cfg.wwwroot+"/mod/evoting/"+e+"&accesscode="+o;location.href=c}else(e="failed")&&($(".add-loader").removeClass("spinner-border"),$(".errormsg").removeAttr("style"),$(".errormsg").fadeOut(5e3),$(".errormsg").html("Please enter correct access code."))},error:function(e){alert("Something went wrong")}})}),$(document).on("click","button.close",function(){let e=$(".courseid").val(),o=M.cfg.wwwroot+"/course/view.php?id="+e;location.href=o})});